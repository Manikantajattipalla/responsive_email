<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Email Response Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-lg">
        <h1 class="text-2xl font-semibold text-gray-700 mb-6">Auto Email Response Generator</h1>
        <form id="emailForm">
            <div class="mb-4">
                <label for="fromName" class="block text-gray-700">From Name</label>
                <input id="fromName" name="fromName" type="text" class="w-full p-4 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-4">
                <label for="clientName" class="block text-gray-700">Client First Name</label>
                <input id="clientName" name="clientName" type="text" class="w-full p-4 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-4">
                <label for="clientLastName" class="block text-gray-700">Client Last Name</label>
                <input id="clientLastName" name="clientLastName" type="text" class="w-full p-4 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-4">
                <label for="clientEmail" class="block text-gray-700">Client Email</label>
                <input id="clientEmail" name="clientEmail" type="email" class="w-full p-4 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-4">
                <label for="clientCountry" class="block text-gray-700">Client Country</label>
                <input id="clientCountry" name="clientCountry" type="text" class="w-full p-4 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-4">
                <label for="clientLocation" class="block text-gray-700">Client Location</label>
                <input id="clientLocation" name="clientLocation" type="text" class="w-full p-4 border border-gray-300 rounded-md">
            </div>
            <div class="mb-4">
                <label for="clientLanguage" class="block text-gray-700">Client Language</label>
                <input id="clientLanguage" name="clientLanguage" type="text" class="w-full p-4 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-4">
                <label for="projectType" class="block text-gray-700">Project Type</label>
                <input id="projectType" name="projectType" type="text" class="w-full p-4 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-4">
                <label for="serviceCategory" class="block text-gray-700">Service Category</label>
                <input id="serviceCategory" name="serviceCategory" type="text" class="w-full p-4 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-4">
                <label for="clientWebsite" class="block text-gray-700">Client Website (if any)</label>
                <input id="clientWebsite" name="clientWebsite" type="text" class="w-full p-4 border border-gray-300 rounded-md">
            </div>
            <div class="mb-4">
                <label for="clientMessage" class="block text-gray-700">Client Message</label>
                <textarea id="clientMessage" name="clientMessage" rows="6" class="w-full p-4 border border-gray-300 rounded-md" required></textarea>
            </div>
            <div class="text-center">
                <button type="submit" class="bg-blue-500 text-white px-6 py-2 rounded-md">Generate Response</button>
            </div>
        </form>
        <div id="responseContainer" class="mt-6 hidden">
            <h2 class="text-lg font-semibold text-gray-800">Generated Email Response</h2>
            <div id="generatedResponse" class="mt-4 p-4 bg-gray-50 border rounded-md"></div>
        </div>
    </div>
    <script>
        document.getElementById('emailForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            const fromName = document.getElementById('fromName').value;
            const clientName = document.getElementById('clientName').value;
            const clientLastName = document.getElementById('clientLastName').value;
            const clientEmail = document.getElementById('clientEmail').value;
            const clientCountry = document.getElementById('clientCountry').value;
            const clientLocation = document.getElementById('clientLocation').value;
            const clientLanguage = document.getElementById('clientLanguage').value;
            const projectType = document.getElementById('projectType').value;
            const serviceCategory = document.getElementById('serviceCategory').value;
            const clientWebsite = document.getElementById('clientWebsite').value;
            const clientMessage = document.getElementById('clientMessage').value;

            try {
                const response = await fetch('/generate-response', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ fromName, clientName, clientLastName, clientEmail, clientCountry, clientLocation, clientLanguage, projectType, serviceCategory, clientWebsite, clientMessage }),
                });
                const data = await response.json();
                if (data.response) {
                    const formattedResponse = data.response.replace('[Your Name]', fromName).replace(/\n/g, '<br>');
                    document.getElementById('generatedResponse').innerHTML = `<p>${formattedResponse}</p>`;
                    document.getElementById('responseContainer').classList.remove('hidden');
                }  
            } catch (error) {
                console.error('Error:', error);
            }
        });
    </script>
</body>
</html>
